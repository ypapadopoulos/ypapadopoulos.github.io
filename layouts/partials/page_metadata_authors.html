{{/* Display author list. */}}

{{- $taxonomy := "authors" }}
{{ if .Param $taxonomy }}
  {{ range $index, $value := (.GetTerms $taxonomy) }}
    {{- $authorPage := .Page }}
    {{- $enPage := $authorPage }}
    {{- if ne $authorPage.Lang "en" }}
      {{- $enTranslations := where $authorPage.Translations "Lang" "en" }}
      {{- if gt (len $enTranslations) 0 }}
        {{- $enPage = index $enTranslations 0 }}
      {{- end }}
    {{- end }}

    {{- $highlight := or ($authorPage.Params.highlight_name) ($enPage.Params.highlight_name) }}

    {{- if gt $index 0 }}, {{ end -}}
    <span {{ if $highlight }}class="font-bold"{{ end }}>
      {{ if $authorPage.RelPermalink }}
        <a href="{{ $authorPage.RelPermalink }}">{{ $enPage.Title }}</a>
      {{ else }}
        {{ $enPage.Title }}
      {{ end }}
    </span>

    {{- if isset $.Params "author_notes" -}}
      {{- with (index $.Params.author_notes $index) -}}
        <i class="author-notes fas fa-info-circle" data-toggle="tooltip" title="{{.}}"></i>
      {{- end }}
    {{- end }}
  {{ end }}
{{ end }}
